{"version":3,"file":"src_app_pages_public_signin_signin_module_ts.js","mappings":"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","sources":["./src/app/pages/public/signin/signin-routing.module.ts","./src/app/pages/public/signin/signin.module.ts","./src/app/pages/public/signin/signin.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SigninPage } from './signin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SigninPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SigninPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SigninPageRoutingModule } from './signin-routing.module';\n\nimport { SigninPage } from './signin.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SigninPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [SigninPage]\n})\nexport class SigninPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.page.html',\n  styleUrls: ['./signin.page.scss'],\n})\nexport class SigninPage implements OnInit {\n\n  current_year: number = new Date().getFullYear();\n\n  signin_form: UntypedFormGroup;\n  submit_attempt: boolean = false;\n\n  constructor(\n    private authService: AuthService,\n    private loadingController: LoadingController,\n    private formBuilder: UntypedFormBuilder,\n    private toastService: ToastService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n\n    // Setup form\n    this.signin_form = this.formBuilder.group({\n      email: ['', Validators.compose([Validators.email, Validators.required])],\n      password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n    });\n\n    // DEBUG: Prefill inputs\n    this.signin_form.get('email').setValue('');\n    this.signin_form.get('password').setValue('');\n  }\n\n  // Sign in\n  async signIn() {\n\n    this.submit_attempt = true;\n\n    // If email or password empty\n    if (this.signin_form.value.email == '' || this.signin_form.value.password == '') {\n      this.toastService.presentToast('Error', 'Please input email and password', 'top', 'danger', 2000);\n\n    } else {\n\n      // Proceed with loading overlay\n      const loading = await this.loadingController.create({\n        cssClass: 'default-loading',\n        message: 'Signing in... Please be patient.',\n        spinner: 'crescent'\n      });\n      await loading.present();\n\n\n      this.authService\n        .signInv2(this.signin_form.value)\n        .subscribe((data) => {\n if(data['status']==true)\n {\n          localStorage.removeItem(\"access_token\");\n          localStorage.setItem('access_token', data['token']);\n\n          localStorage.setItem('login_data', JSON.stringify(data));\n          this.router.navigate(['/home']);\n }\n else\n this.toastService.presentToast('Error', 'Please correct input email and password', 'top', 'danger', 2000);\n\n          loading.dismiss();\n\n        });\n\n\n    }\n  }\n\n\n\n}\n"],"names":["Component","LoadingController","AuthService","UntypedFormBuilder","Validators","ToastService","Router","SigninPage","constructor","authService","loadingController","formBuilder","toastService","router","Date","getFullYear","ngOnInit","signin_form","group","email","compose","required","password","minLength","get","setValue","signIn","submit_attempt","value","presentToast","loading","create","cssClass","message","spinner","present","signInv2","subscribe","data","localStorage","removeItem","setItem","JSON","stringify","navigate","dismiss","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}