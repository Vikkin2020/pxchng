{"version":3,"file":"src_app_pages_public_signup_signup_module_ts.js","mappings":"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","sources":["./src/app/pages/public/signup/signup-routing.module.ts","./src/app/pages/public/signup/signup.module.ts","./src/app/pages/public/signup/signup.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPageRoutingModule } from './signup-routing.module';\n\nimport { SignupPage } from './signup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SignupPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss'],\n})\nexport class SignupPage implements OnInit {\n\n  current_year: number = new Date().getFullYear();\n\n  signup_form:  UntypedFormGroup;\n  submit_attempt: boolean = false;\n\n  constructor(\n    private authService: AuthService,\n    private loadingController: LoadingController,\n    private formBuilder: UntypedFormBuilder,\n    private toastService: ToastService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n\n    // Setup form\n    this.signup_form = this.formBuilder.group({\n      email: ['', Validators.compose([Validators.email, Validators.required])],\n      password: ['', Validators.compose([Validators.minLength(6), Validators.required])],\n      password_repeat: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n    });\n  }\n\n  // Sign up\n  async signUp() {\n\n    this.submit_attempt = true;\n\n    // If email or password empty\n    if (this.signup_form.value.email == '' || this.signup_form.value.password == '' || this.signup_form.value.password_repeat == '') {\n      this.toastService.presentToast('Error', 'Please fill in all fields', 'top', 'danger', 4000);\n\n      // If passwords do not match\n    } else if (this.signup_form.value.password != this.signup_form.value.password_repeat) {\n      this.toastService.presentToast('Error', 'Passwords must match', 'top', 'danger', 4000);\n\n    } else {\n\n      // Proceed with loading overlay\n      const loading = await this.loadingController.create({\n        cssClass: 'default-loading',\n        message: 'Signing up... Please be patient.',\n        spinner: 'crescent'\n      });\n      await loading.present();\n\n      // TODO: Add your sign up logic\n      // ...\n\n\n\n      this.authService\n        .signUp(this.signup_form.value)\n        .subscribe((data) => {\n\n          loading.dismiss();\n//alert(71);\n          this.toastService.presentToast('Welcome!', data['message'], 'top', 'success', 2000);\n\n\n          if (data['status'] == true) {\n\n\n            localStorage.removeItem(\"access_token\");\n            localStorage.setItem('access_token', data['token']);\n  \n            localStorage.setItem('login_data', JSON.stringify(data));\n\n            this.router.navigate(['/home']);\n\n\n          }\n\n\n        });\n\n\n\n\n      // Success messages + routing\n\n    }\n\n  }\n\n}\n"],"names":["Component","LoadingController","AuthService","UntypedFormBuilder","Validators","ToastService","Router","SignupPage","constructor","authService","loadingController","formBuilder","toastService","router","Date","getFullYear","ngOnInit","signup_form","group","email","compose","required","password","minLength","password_repeat","signUp","submit_attempt","value","presentToast","loading","create","cssClass","message","spinner","present","subscribe","data","dismiss","localStorage","removeItem","setItem","JSON","stringify","navigate","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}