{"version":3,"file":"src_app_pages_secure_cards_cards_module_ts.js","mappings":"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","sources":["./src/app/pages/secure/cards/add/add.page.ts","./src/app/pages/secure/cards/cards-routing.module.ts","./src/app/pages/secure/cards/cards.module.ts","./src/app/pages/secure/cards/cards.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-add',\n  templateUrl: './add.page.html',\n  styleUrls: ['./add.page.scss'],\n})\nexport class AddPage implements OnInit {\n\n  add_card_form: UntypedFormGroup;\n  submit_attempt: boolean = false;\n\n  constructor(\n    private modalController: ModalController,\n    private loadingController: LoadingController,\n    private formBuilder: UntypedFormBuilder\n  ) { }\n\n  ngOnInit() {\n\n    // Setup form\n    this.add_card_form = this.formBuilder.group({\n      card_number: ['', Validators.required],\n      expiry_date: ['', Validators.required],\n      cvv: ['', Validators.compose([Validators.maxLength(3), Validators.minLength(3), Validators.required])]\n    });\n  }\n\n  // Format credit\n  formatCreditCardNumber(event: any) {\n\n    // Input val\n    let value = event.detail.value;\n\n    // Format: 0000 0000 0000 0000\n    const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\n    const matches = v.match(/\\d{4,16}/g);\n    const match = (matches && matches[0]) || '';\n    const parts = [];\n    for (let i = 0, len = match.length; i < len; i += 4) {\n      parts.push(match.substring(i, i + 4));\n    }\n\n    // Set formatted value\n    if (parts.length > 0) {\n      this.add_card_form.get('card_number').setValue(parts.join(' '));\n    } else {\n      this.add_card_form.get('card_number').setValue(value);\n    }\n  }\n\n  // Format expiry date\n  formatExpiryDate(event: any) {\n\n    // Input val\n    let value = event.detail.value;\n\n    // Format: 01/23\n    if (value.length == 3) {\n\n      if (!value.includes('/')) {\n        const month = value.slice(0, 2);\n        const year = value.slice(2, 4);\n        this.add_card_form.get('expiry_date').setValue(month + '/' + year);\n      }\n    } else if (value.length > 5) {\n      value = value.substring(0, value.length - 1);\n      this.add_card_form.get('expiry_date').setValue(value);\n    }\n  }\n\n  // Cancel\n  cancel() {\n\n    // Dismiss modal\n    this.modalController.dismiss();\n  }\n\n  // Save card\n  async save() {\n\n    this.submit_attempt = true;\n\n    // If form valid\n    if (this.add_card_form.valid) {\n\n      // Loading overlay\n      const loading = await this.loadingController.create({\n        cssClass: 'default-loading',\n        message: '<p>Saving card...</p><span>Please be patient.</span>',\n        spinner: 'crescent'\n      });\n      await loading.present();\n\n      // Add save logic here ...\n      // ...\n\n      // Fake timeout\n      setTimeout(() => {\n\n        // Dismiss modal\n        this.modalController.dismiss();\n\n        loading.dismiss();\n      }, 2000);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CardsPage } from './cards.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CardsPage\n  },\n  {\n    path: 'add',\n    loadChildren: () => import('./add/add.module').then( m => m.AddPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CardsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CardsPageRoutingModule } from './cards-routing.module';\n\nimport { CardsPage } from './cards.page';\n\n// Swiper\nimport { SwiperModule } from 'swiper/angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CardsPageRoutingModule,\n    SwiperModule\n  ],\n  declarations: [CardsPage]\n})\nexport class CardsPageModule {}\n","import { AfterContentChecked, ChangeDetectorRef, Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { SwiperComponent } from 'swiper/angular';\nimport SwiperCore, { SwiperOptions, Pagination } from 'swiper';\nimport { AlertController, IonRouterOutlet, LoadingController, ModalController } from '@ionic/angular';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { AddPage } from './add/add.page';\nSwiperCore.use([Pagination]);\n\n@Component({\n  selector: 'app-cards',\n  templateUrl: './cards.page.html',\n  styleUrls: ['./cards.page.scss'],\n})\nexport class CardsPage implements AfterContentChecked {\n\n  @ViewChild('swiper') swiper: SwiperComponent;\n\n  // Swiper config\n  config: SwiperOptions = {\n    slidesPerView: 1,\n    spaceBetween: 50,\n    pagination: { clickable: false },\n    allowTouchMove: true\n  }\n\n  card_details_visible: boolean = false;\n\n  constructor(\n    private alertController: AlertController,\n    private toastService: ToastService,\n    private loadingController: LoadingController,\n    private modalController: ModalController,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngAfterContentChecked(): void {\n\n    if (this.swiper) {\n      this.swiper.updateSwiper({});\n    }\n\n  }\n\n  // Sync\n  async sync() {\n    // Loading overlay\n    const loading = await this.loadingController.create({\n      cssClass: 'default-loading',\n      message: '<p>Syncing card...</p><span>Please be patient.</span>',\n      spinner: 'crescent'\n    });\n    await loading.present();\n\n    // Fake timeout\n    setTimeout(() => {\n      loading.dismiss();\n    }, 2000);\n  }\n\n  // Add card\n  async addCard() {\n\n    // Open filter modal\n    const modal = await this.modalController.create({\n      component: AddPage,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    return await modal.present();\n  }\n\n  // Delete card\n  async deleteCard() {\n    const alert = await this.alertController.create({\n      cssClass: 'custom-alert',\n      header: 'Delete this card permanently?',\n      message: 'This action cannot be undone.',\n      buttons: [\n        {\n          text: 'Delete card',\n          cssClass: 'danger',\n          handler: async () => {\n            this.toastService.presentToast('Success', 'Card successfully deleted', 'top', 'success', 2000);\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'cancel'\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"names":["Component","LoadingController","ModalController","UntypedFormBuilder","Validators","AddPage","constructor","modalController","loadingController","formBuilder","ngOnInit","add_card_form","group","card_number","required","expiry_date","cvv","compose","maxLength","minLength","formatCreditCardNumber","event","value","detail","v","replace","matches","match","parts","i","len","length","push","substring","get","setValue","join","formatExpiryDate","includes","month","slice","year","cancel","dismiss","save","submit_attempt","valid","loading","create","cssClass","message","spinner","present","setTimeout","selector","template","ViewChild","SwiperCore","Pagination","AlertController","IonRouterOutlet","ToastService","use","CardsPage","alertController","toastService","routerOutlet","slidesPerView","spaceBetween","pagination","clickable","allowTouchMove","ngAfterContentChecked","swiper","updateSwiper","sync","addCard","modal","component","presentingElement","nativeEl","deleteCard","alert","header","buttons","text","handler","presentToast","role","args"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}